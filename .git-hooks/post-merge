#!/bin/bash

# Git post-merge hook for auto-deploy
# This runs automatically after 'git pull'

echo "ğŸ”” Post-merge hook triggered"

# Check if we're in a Docker environment or have docker-compose available
if command -v docker-compose &> /dev/null; then
    echo "ğŸ³ Docker detected, running auto-deploy..."
    
    # Run deploy script in background
    nohup ./deploy.sh > deploy.log 2>&1 &
    
    echo "âœ… Auto-deploy started in background. Check deploy.log for progress."
else
    echo "âš ï¸  Docker not found. Skipping auto-deploy."
    echo "ğŸ’¡ To deploy manually, run: ./deploy.sh"
fi
